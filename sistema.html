<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora Fotovoltaica</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="contenedor">
    <h1>Calculadora de Sistema Fotovoltaico</h1>

    <label>Tipo de sistema:</label>
    <select id="tipoSistema" onchange="controlarRespaldo(); controlarBaterias();">
        <option value="red">En red</option>
        <option value="hibrido">Híbrido</option>
        <option value="aislado">Aislado</option>
    </select>

    <label>Consumo mensual (kWh):</label>
    <input type="number" id="consumo">

    <label>Ahorro deseado (%):</label>
    <input type="number" id="ahorro" value="90">

    <label>Horas solares pico (h/día):</label>
    <input type="number" id="horasSol" value="5.5" step="0.1">

    <label>Pérdidas del sistema (%):</label>
    <input type="number" id="perdidas" value="15">

    <label>Horas de respaldo:</label>
    <input type="number" id="respaldo" disabled>

    <!-- PANEL SOLAR -->
    <div style="margin-top:20px;">
        <h3>Configuración de paneles</h3>

        <label>Modelo de panel:</label>
        <select id="modeloPanel">
            <option value="450">Panel estándar 450 W</option>
            <option value="550" selected>Panel recomendado 550 W</option>
            <option value="600">Panel alta potencia 600 W</option>
        </select>
    </div>

    <!-- BLOQUE BATERÍAS -->
    <div id="bloqueBaterias" style="display:none; margin-top:20px;">
        <h3>Configuración de baterías</h3>

        <label>Tipo de batería:</label>
        <select id="tipoBateria" onchange="actualizarBateria()">
            <option value="litio">Litio (LiFePO₄)</option>
            <option value="agm">AGM</option>
            <option value="gel">Gel</option>
            <option value="plomo">Plomo ácido</option>
        </select>

        <label>Voltaje batería (V):</label>
        <input type="number" id="voltajeBateria" value="12">

        <label>Capacidad batería (Ah):</label>
        <input type="number" id="capacidadBateria" value="200">

        <label>Profundidad de descarga (DoD %):</label>
        <input type="number" id="dodBateria" value="90">
    </div>

    <button onclick="calcularSistema()">Calcular sistema</button>
    <button onclick="nuevaCotizacion()">Nueva cotización</button>

    <div id="resultados">
        <p>Introduce los datos y presiona “Calcular sistema”.</p>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
